<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rabbit Trap</title>
  <link rel="stylesheet" href="rabbit-trap.css">
</head>
<body>
  <div id="menu">
    <div id="menu-list">
      <br>
      <a href="rabbit-trap.html?01">part1</a>
      <a href="rabbit-trap.html?02">part2</a>
      <a href="rabbit-trap.html?03">part3</a>
      <a href="rabbit-trap.html?04">part4</a>
      <a href="rabbit-trap.html?05">part5</a>
      <a href="rabbit-trap.html?06">part6</a>
      <a href="rabbit-trap.html?07">part7</a>
    </div>
  </div>
  <canvas></canvas>

  <script type="text/javascript">
    let part = String(window.location).split('?')[1];

    let parts = {
      "01": ["01/controller-01.js", "01/display-01.js", "01/engine-01.js", "01/game-01.js", "01/main-01.js"],
      "02": ["02/controller-02.js", "02/display-02.js", "01/engine-01.js", "02/game-02.js", "02/main-02.js"],
      "03": ["02/controller-02.js", "03/display-03.js", "01/engine-01.js", "03/game-03.js", "03/main-03.js"],
      "04": ["02/controller-02.js", "04/display-04.js", "01/engine-01.js", "04/game-04.js", "03/main-03.js"],
      "05": ["02/controller-02.js", "05/display-05.js", "01/engine-01.js", "05/game-05.js", "05/main-05.js"],
      "06": ["02/controller-02.js", "05/display-05.js", "06/engine-06.js", "06/game-06.js", "06/main-06.js"],
      "07": ["02/controller-02.js", "05/display-05.js", "06/engine-06.js", "07/game-07.js", "07/main-07.js"],
    }

    if (part != undefined) {
      for (let i = 0; i < parts[part].length; i++) {
        let script = document.createElement('script');
        script.setAttribute('type', 'text/javascript');
        script.setAttribute('src', parts[part][i]);
        document.head.appendChild(script);
      }
    }

    let menu = document.getElementById('menu');
    let menuList = document.getElementById('menu-list');

    menu.addEventListener('click', (e) => {
      menuList.style.display = (menuList.style.display == "none") ? "grid" : "none";
    });

    menuList.style.display = "none";
  </script>
</body>
</html>