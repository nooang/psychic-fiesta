<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Glitch and noise effect</title>
  <link rel="stylesheet" href="glitch.css" >
  <link rel="stylesheet" href="../reset.css" >
</head>
<body>
  <h1 data-text="TH Coding">TH Coding</h1>
</body>
<script>
  function glitch(element) {
    let count = 0
    setInterval(() => {
      
      const skew = Math.random() * 20 - 10

      const top1 = Math.random() * 100
      const btm1 = Math.random() * 100

      const top2 = Math.random() * 100
      const btm2 = Math.random() * 100

      element.style.setProperty('--skew', `${skew}deg`)
      element.style.setProperty('--t1', `${top1}%`)
      element.style.setProperty('--b1', `${btm1}%`)
      element.style.setProperty('--t2', `${top2}%`)
      element.style.setProperty('--b2', `${btm2}%`)
      element.style.setProperty('--scale', '1')

      count++

      if (count % 15 === 0) {
        const bigSkew = Math.random() * 180 - 90
        element.style.setProperty('--skew', `${bigSkew}deg`)
      }
      if (count % 30 === 0) {
        const bigScale = 1 + Math.random() / 2
        element.style.setProperty('--scale', `${bigScale}`)
      }
    }, 100)
  }

  const h1 = document.querySelector('h1')
  glitch(h1)
</script>
</html>